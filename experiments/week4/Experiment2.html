<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.2/angular.min.js"></script>
    <script type="text/javascript">
        var app = angular.module("instantSearch", []);
        app.filter('searchFor', function () {

            return function (arr, searchString) {
                if (!searchString) {
                    return arr;
                }
                var result = [];
                searchString = searchString.toLowerCase();
                angular.forEach(arr, function (item) {
                    if (item.title.toLowerCase().indexOf(searchString) !== -1) {
                        result.push(item);
                    }
                });
                return result;
            };
        });

        function searchController($scope) {
            $scope.items = [
		        {
		            title: '50 Must-have plugins for extending Twitter Bootstrap'
		        },
		        {
		            title: 'Making a Super Simple Registration System With PHP and MySQL'
		        },
		        {
		            
		            title: 'Create a slide-out footer with this neat z-index trick'
		        },
		        {
		           
		            title: 'How to Make a Digital Clock with jQuery and CSS3'
		        },
		        {
		            
		            title: 'Smooth Diagonal Fade Gallery with CSS3 Transitions'
		        },
		        {
		            
		            title: 'Mini AJAX File Upload Form'
		        },
		        {
		            
		            title: 'Your First Backbone.js App – Service Chooser'
		        }
            ];

        }

    </script>
</head>
<body class="container">
    <fieldset>
        
        <div ng-app="instantSearch" ng-controller="searchController">

            <div class="bar">
                <label for="search">Term to search</label>
                <input type="text" id="search" class="form-control" ng-model="searchString" />
            </div>

            <ul>
                <br />
                <div>RESULTS</div>

                <br/>
                <li ng-repeat="i in items | searchFor:searchString">
                    <p>{{i.title}}</p>
                </li>
            </ul>
        </div>
    </fieldset>
    <br />
    <br />
    <fieldset>
        <h3>About the experiment</h3>
        <div>
            Filters can be added to expressions and directives using a pipe character. In this case instead of using the default filters, I have created a custom filter which will search the JSON array for a specific term and return the sentences which has it.
        </div>
    </fieldset>
    <br />
    <br />
    <fieldset>
        <h3>Code Snippets</h3>
        This code basically calls the filter 'searchFor' with the model searchString value.
        <pre> 
        &lt;li ng-repeat="i in items | searchFor:searchString"&gt;
        </pre>
        <br />
        <br />
        This chunk of code is the actual implementation of the filter. It contains all the logic required to perform matching.
        <pre>
        app.filter('searchFor', function () {
            return function (arr, searchString) {
                if (!searchString) {
                    return arr;
                }
                var result = [];
                searchString = searchString.toLowerCase();
                angular.forEach(arr, function (item) {
                    if (item.title.toLowerCase().indexOf(searchString) !== -1) {
                        result.push(item);
                    }
                });
                return result;
            };
        });
        </pre>
    </fieldset>
    <br />
    <br />
    <fieldset>
        <h3>Source Code</h3>
        <a href="../../fileview/Default.aspx?~/experiments/week4/Experiment2.html" target="_blank">View Source</a>
    </fieldset>
    <br />
    <br />
    <fieldset>
        <h3>References</h3>
        <a href="http://www.w3schools.com/" target="_blank">W3 Schools</a>
    </fieldset>
</body>
</html>
